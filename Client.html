<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Client</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <meta name="robots" content="noindex">
</head>

<body><div style="background-color: #f8d7da; color: #721c24; padding: 15px; text-align: center; font-family: Arial, sans-serif; border: 1px solid #f5c6cb; margin-bottom: 20px; font-size: 18px;"> <p><strong>Warning:</strong><br> Fauna is decommissioning FQL v4 on June 30, 2025.</p> <p>This driver is not compatible with FQL v10, the latest version. Fauna accounts created after August 21, 2024 must use FQL v10.<br>Ensure you migrate existing projects to the official v10 driver by the v4 EOL date: <a href="https://github.com/fauna/fauna-js">https://github.com/fauna/fauna-js</a>.</p><p>For more information, see the <a href="https://docs.fauna.com/fauna/v4/#fql-v4-end-of-life">v4 end of life (EOL) announcement</a> and <a href="https://docs.fauna.com/fauna/v4/migration/faq">related FAQ</a>.</p></div>

<div id="main">

    <h1 class="page-title">Class: Client</h1>






<section>

<header>

        <h2><span class="attribs"><span class="type-signature"></span></span>Client<span class="signature">(options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"></span></h2>


</header>

<article>
    <div class="container-overview">






    <h4 class="name" id="Client"><span class="type-signature"></span>new Client<span class="signature">(options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"></span></h4>






<div class="description">
    <p>A client for interacting with FaunaDB.</p>
<p>Users will mainly call the <a href="Client.html#query">Client#query</a> method to execute queries, or
the <a href="Client.html#stream">Client#stream</a> method to subscribe to streams.</p>
<p>See the <a href="https://fauna.com/documentation">FaunaDB Documentation</a> for detailed examples.</p>
<p>All methods return promises containing a JSON object that represents the FaunaDB response.
Literal types in the response object will remain as strings, Arrays, and objects.
FaunaDB types, such as Ref, SetRef, FaunaTime, and FaunaDate will
be converted into the appropriate object.</p>
<p>(So if a response contains <code>{ &quot;@ref&quot;: &quot;collections/frogs/123&quot; }</code>,
it will be returned as <code>new Ref(&quot;collections/frogs/123&quot;)</code>.)</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>options</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Object that configures this FaunaDB client.</p>
                <h6>Properties</h6>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>endpoint</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Full URL for the FaunaDB server.</p></td>
        </tr>



        <tr>

                <td class="name"><code>domain</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Base URL for the FaunaDB server.</p></td>
        </tr>



        <tr>

                <td class="name"><code>scheme</code></td>


            <td class="type">


<span class="param-type">'http'</span>
|

<span class="param-type">'https'</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>HTTP scheme to use.</p></td>
        </tr>



        <tr>

                <td class="name"><code>port</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Port of the FaunaDB server.</p></td>
        </tr>



        <tr>

                <td class="name"><code>secret</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>FaunaDB secret (see <a href="https://app.fauna.com/documentation/intro/security">Reference Documentation</a>)</p></td>
        </tr>



        <tr>

                <td class="name"><code>timeout</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Read timeout in seconds.</p></td>
        </tr>



        <tr>

                <td class="name"><code>observer</code></td>


            <td class="type">


<span class="param-type"><a href="Client.html#~observerCallback">Client~observerCallback</a></span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Callback that will be called after every completed request.</p></td>
        </tr>



        <tr>

                <td class="name"><code>keepAlive</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Configures http/https keepAlive option (ignored in browser environments)</p></td>
        </tr>



        <tr>

                <td class="name"><code>headers</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Optional headers to send with requests</p></td>
        </tr>



        <tr>

                <td class="name"><code>fetch</code></td>


            <td class="type">


<span class="param-type">fetch</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>a fetch compatible <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">API</a> for making a request</p></td>
        </tr>



        <tr>

                <td class="name"><code>queryTimeout</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Sets the maximum amount of time (in milliseconds) for query execution on the server</p></td>
        </tr>



        <tr>

                <td class="name"><code>http2SessionIdleTime</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Sets the maximum amount of time (in milliseconds) an HTTP2 session may live
when there's no activity. Must be a non-negative integer, with a maximum value of 5000.
If an invalid value is passed a default of 500 ms is applied. If a value
exceeding 5000 ms is passed (e.g. Infinity) the maximum of 5000 ms is applied.
Only applicable for NodeJS environment (when http2 module is used).
can also be configured via the FAUNADB_HTTP2_SESSION_IDLE_TIME environment variable
which has the highest priority and overrides the option passed into the Client constructor.</p></td>
        </tr>



        <tr>

                <td class="name"><code>checkNewVersion</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Enabled by default. Prints a message to the terminal when a newer driver is available.</p></td>
        </tr>



        <tr>

                <td class="name"><code>metrics</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Disabled by default. Controls whether or not query metrics are returned.</p></td>
        </tr>


    </tbody>
</table>

            </td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line174">line 174</a>
    </li></ul></dd>







</dl>





















    </div>














        <h3 class="subsection-title">Members</h3>



<h4 class="name" id=".apiVersion"><span class="type-signature">(static) </span>apiVersion<span class="type-signature"> :string</span></h4>




<div class="description">
    <p>Current API version.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>

<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line207">line 207</a>
    </li></ul></dd>







</dl>










        <h3 class="subsection-title">Methods</h3>







    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">(opts<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;void>}</span></h4>






<div class="description">
    <p>Closes the client session and cleans up any held resources.
By default, it will wait for any ongoing requests to complete on their own;
streaming requests are terminated forcibly. Any subsequent requests will
error after the .close method is called.
Should be used at application termination in order to release any open resources
and allow the process to terminate e.g. when the custom http2SessionIdleTime parameter is used.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>opts</code></td>


            <td class="type">


<span class="param-type">object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Close options.</p>
                <h6>Properties</h6>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>force</code></td>


            <td class="type">


<span class="param-type">boolean</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Specifying this property will force any ongoing
requests to terminate instead of gracefully waiting until they complete.
This may result in an ERR_HTTP2_STREAM_CANCEL error for NodeJS.</p></td>
        </tr>


    </tbody>
</table>

            </td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line288">line 288</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>




<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type">Promise.&lt;void></span>


    </dd>
</dl>













    <h4 class="name" id="getLastTxnTime"><span class="type-signature"></span>getLastTxnTime<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>






<div class="description">
    <p>Get the freshest timestamp reported to this client.</p>
</div>













<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line257">line 257</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>the last seen transaction time</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type">number</span>


    </dd>
</dl>













    <h4 class="name" id="paginate"><span class="type-signature"></span>paginate<span class="signature">(expression, params, options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {<a href="PageHelper.html">PageHelper</a>}</span></h4>






<div class="description">
    <p>Returns a <a href="PageHelper.html">PageHelper</a> for the given Query expression.
This provides a helpful API for paginating over FaunaDB responses.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>expression</code></td>


            <td class="type">


<span class="param-type"><a href="Expr.html">Expr</a></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The Query expression to paginate over.</p></td>
        </tr>



        <tr>

                <td class="name"><code>params</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>Options to be passed to the paginate function. See <a href="https://app.fauna.com/documentation/reference/queryapi#read-functions">paginate</a>.</p></td>
        </tr>



        <tr>

                <td class="name"><code>options</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Object that configures the current pagination queries, overriding FaunaDB client options.</p>
                <h6>Properties</h6>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>secret</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>FaunaDB secret (see <a href="https://app.fauna.com/documentation/intro/security">Reference Documentation</a>)</p></td>
        </tr>


    </tbody>
</table>

            </td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line238">line 238</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>A PageHelper that wraps the provided expression.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type"><a href="PageHelper.html">PageHelper</a></span>


    </dd>
</dl>













    <h4 class="name" id="ping"><span class="type-signature"></span>ping<span class="signature">()</span><span class="type-signature"> &rarr; {external:Promise.&lt;string>}</span></h4>






<div class="description">
    <p>Sends a <code>ping</code> request to FaunaDB.</p>
</div>













<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line249">line 249</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>Ping response.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type">external:Promise.&lt;string></span>


    </dd>
</dl>













    <h4 class="name" id="query"><span class="type-signature"></span>query<span class="signature">(expression, options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {external:Promise.&lt;Object>}</span></h4>






<div class="description">
    <p>Executes a query via the FaunaDB Query API.
See the <a href="https://app.fauna.com/documentation/reference/queryapi">docs</a>,
and the query functions in this documentation.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>expression</code></td>


            <td class="type">


<span class="param-type"><a href="module-query.html#~ExprArg">module:query~ExprArg</a></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The query to execute. Created from <a href="module-query.html">module:query</a> functions.</p></td>
        </tr>



        <tr>

                <td class="name"><code>options</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Object that configures the current query, overriding FaunaDB client options.</p>
                <h6>Properties</h6>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>secret</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>FaunaDB secret (see <a href="https://app.fauna.com/documentation/intro/security">Reference Documentation</a>)</p></td>
        </tr>


    </tbody>
</table>

            </td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line220">line 220</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>FaunaDB response object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type">external:Promise.&lt;Object></span>


    </dd>
</dl>













    <h4 class="name" id="queryWithMetrics"><span class="type-signature"></span>queryWithMetrics<span class="signature">(expression, options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {external:Promise.&lt;Object>}</span></h4>






<div class="description">
    <p>Executes a query via the FaunaDB Query API.
See the <a href="https://app.fauna.com/documentation/reference/queryapi">docs</a>,
and the query functions in this documentation.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>expression</code></td>


            <td class="type">


<span class="param-type"><a href="module-query.html#~ExprArg">module:query~ExprArg</a></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The query to execute. Created from <a href="module-query.html">module:query</a> functions.</p></td>
        </tr>



        <tr>

                <td class="name"><code>options</code></td>


            <td class="type">


<span class="param-type">Object</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Object that configures the current query, overriding FaunaDB client options.</p>
                <h6>Properties</h6>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>secret</code></td>


            <td class="type">


<span class="param-type">string</span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>FaunaDB secret (see <a href="https://app.fauna.com/documentation/intro/security">Reference Documentation</a>)</p></td>
        </tr>


    </tbody>
</table>

            </td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line303">line 303</a>
    </li></ul></dd>







</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>{value, metrics} An object containing the FaunaDB response object and the list of query metrics incurred by the request.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type">external:Promise.&lt;Object></span>


    </dd>
</dl>













    <h4 class="name" id="stream"><span class="type-signature"></span>stream<span class="signature">(expression, options<span class="signature-attributes">nullable</span>)</span><span class="type-signature"> &rarr; {<a href="module-stream-Subscription.html">module:stream~Subscription</a>}</span></h4>






<div class="description">
    <p><strong>WARNING: This is an experimental feature. There are no guarantees to
its API stability and/or service availability. DO NOT USE IT IN
PRODUCTION</strong>.</p>
<p>Creates a subscription to the result of the given read-only expression. When
executed, the expression must only perform reads and produce a single
streamable type, such as a reference or a version. Expressions that attempt
to perform writes or produce non-streamable types will result in an error.
Otherwise, any expression can be used to initiate a stream, including
user-defined function calls.</p>
<p>The subscription returned by this method does not issue any requests until
the <a href="module-stream-Subscription.html#start">module:stream~Subscription#start</a> method is called. Make sure to
subscribe to the events of interest, otherwise the received events are simply
ignored. For example:</p>
<pre class="prettyprint source"><code>client.stream(document.ref)
  .on('version', version => console.log(version))
  .on('error', error => console.log(error))
  .start()
</code></pre>
<p>Please note that streams are not temporal, meaning that there is no option to
configure its starting timestamp. The stream will, however, state its initial
subscription time via the <a href="module-stream-Subscription.html#event:start">module:stream~Subscription#event:start</a>
event. A common programming mistake is to read a document, then initiate a
subscription. This approach can miss events that occurred between the initial
read and the subscription request. To prevent event loss, make sure the
subscription has started before performing a data load. The following example
buffer events until the document's data is loaded:</p>
<pre class="prettyprint source"><code>var buffer = []
var loaded = false

client.stream(document.ref)
  .on('start', ts => {
    loadData(ts).then(data => {
      processData(data)
      processBuffer(buffer)
      loaded = true
    })
  })
  .on('version', version => {
    if (loaded) {
      processVersion(version)
    } else {
      buffer.push(version)
    }
  })
  .start()
</code></pre>
<p>The reduce boilerplate, the <code>document</code> helper implements a similar
functionality, except it discards events prior to the document's snapshot
time. The expression given to this helper must be a reference as it
internally runs a <a href="module-query.html#~Get">module:query~Get</a> call with it. The example above
can be rewritten as:</p>
<pre class="prettyprint source"><code>client.stream.document(document.ref)
  .on('snapshot', data => processData(data))
  .on('version', version => processVersion(version))
  .start()
</code></pre>
<p>Be aware that streams are not available in all browsers. If the client can't
initiate a stream, an error event with the <a href="module-errors-StreamsNotSupported.html">module:errors~StreamsNotSupported</a> error will be emmited.</p>
<p>To stop a subscription, call the <a href="module-stream-Subscription.html#close">module:stream~Subscription#close</a>
method:</p>
<pre class="prettyprint source"><code>var subscription = client.stream(document.ref)
  .on('version', version => processVersion(version))
  .start()

// ...
subscription.close()
</code></pre>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>


        <th>Attributes</th>




        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>expression</code></td>


            <td class="type">


<span class="param-type"><a href="module-query.html#~ExprArg">module:query~ExprArg</a></span>



            </td>


                <td class="attributes">





                </td>




            <td class="description last"><p>The expression to subscribe to. Created from <a href="module-query.html">module:query</a>
functions.</p></td>
        </tr>



        <tr>

                <td class="name"><code>options</code></td>


            <td class="type">


<span class="param-type"><a href="module-stream.html#~Options">module:stream~Options</a></span>



            </td>


                <td class="attributes">



                    &lt;nullable><br>



                </td>




            <td class="description last"><p>Object that configures the stream.</p></td>
        </tr>


    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>



<table class="props">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>





        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>document</code></td>


            <td class="type">


<span class="param-type">function</span>



            </td>





            <td class="description last"><p>A document stream helper. See <a href="Client.html#stream">Client#stream</a> for more information.</p></td>
        </tr>


    </tbody>
</table>




<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line21">line 21</a>
    </li></ul></dd>





    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-stream-Subscription.html">module:stream~Subscription</a></li>
        </ul>
    </dd>



</dl>















<h5>Returns:</h5>


<div class="param-desc">
    <p>A new subscription instance.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>

<span class="param-type"><a href="module-stream-Subscription.html">module:stream~Subscription</a></span>


    </dd>
</dl>













    <h4 class="name" id="syncLastTxnTime"><span class="type-signature"></span>syncLastTxnTime<span class="signature">(time)</span><span class="type-signature"></span></h4>






<div class="description">
    <p>Sync the freshest timestamp seen by this client.</p>
<p>This has no effect if staler than currently stored timestamp.
WARNING: This should be used only when coordinating timestamps across
multiple clients. Moving the timestamp arbitrarily forward into
the future will cause transactions to stall.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>





        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>time</code></td>


            <td class="type">


<span class="param-type">number</span>



            </td>





            <td class="description last"><p>the last seen transaction time</p></td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line270">line 270</a>
    </li></ul></dd>







</dl>
























        <h3 class="subsection-title">Type Definitions</h3>







    <h4 class="name" id="~observerCallback"><span class="type-signature"></span>observerCallback<span class="signature">(res)</span><span class="type-signature"></span></h4>






<div class="description">
    <p>The callback that will be executed after every completed request.</p>
</div>









    <h5>Parameters:</h5>


<table class="params">
    <thead>
    <tr>

        <th>Name</th>


        <th>Type</th>





        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>


        <tr>

                <td class="name"><code>res</code></td>


            <td class="type">


<span class="param-type"><a href="RequestResult.html">RequestResult</a></span>



            </td>





            <td class="description last"></td>
        </tr>


    </tbody>
</table>






<dl class="details">


























    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Client.js.html">Client.js</a>, <a href="Client.js.html#line14">line 14</a>
    </li></ul></dd>







</dl>
























</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-clientLogger.html">clientLogger</a></li><li><a href="module-errors.html">errors</a></li><li><a href="module-query.html">query</a></li><li><a href="module-stream.html">stream</a></li><li><a href="module-values.html">values</a></li></ul><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="Expr.html">Expr</a></li><li><a href="module-errors-BadRequest.html">BadRequest</a></li><li><a href="module-errors-ClientClosed.html">ClientClosed</a></li><li><a href="module-errors-FaunaError.html">FaunaError</a></li><li><a href="module-errors-FaunaHTTPError.html">FaunaHTTPError</a></li><li><a href="module-errors-InternalError.html">InternalError</a></li><li><a href="module-errors-InvalidArity.html">InvalidArity</a></li><li><a href="module-errors-InvalidValue.html">InvalidValue</a></li><li><a href="module-errors-MethodNotAllowed.html">MethodNotAllowed</a></li><li><a href="module-errors-NotFound.html">NotFound</a></li><li><a href="module-errors-PermissionDenied.html">PermissionDenied</a></li><li><a href="module-errors-StreamError.html">StreamError</a></li><li><a href="module-errors-StreamErrorEvent.html">StreamErrorEvent</a></li><li><a href="module-errors-StreamsNotSupported.html">StreamsNotSupported</a></li><li><a href="module-errors-TooManyRequests.html">TooManyRequests</a></li><li><a href="module-errors-Unauthorized.html">Unauthorized</a></li><li><a href="module-errors-UnavailableError.html">UnavailableError</a></li><li><a href="module-stream-Subscription.html">Subscription</a></li><li><a href="module-values-Bytes.html">Bytes</a></li><li><a href="module-values-FaunaDate.html">FaunaDate</a></li><li><a href="module-values-FaunaTime.html">FaunaTime</a></li><li><a href="module-values-Query.html">Query</a></li><li><a href="module-values-Ref.html">Ref</a></li><li><a href="module-values-SetRef.html">SetRef</a></li><li><a href="module-values-Value.html">Value</a></li><li><a href="PageHelper.html">PageHelper</a></li><li><a href="RequestResult.html">RequestResult</a></li></ul><h3>Events</h3><ul><li><a href="module-stream-Subscription.html#event:error">error</a></li><li><a href="module-stream-Subscription.html#event:history_rewrite">history_rewrite</a></li><li><a href="module-stream-Subscription.html#event:snapshot">snapshot</a></li><li><a href="module-stream-Subscription.html#event:start">start</a></li><li><a href="module-stream-Subscription.html#event:version">version</a></li></ul><h3>Global</h3><ul><li><a href="global.html#encode">encode</a></li><li><a href="global.html#mergeObjects">mergeObjects</a></li><li><a href="global.html#querystringify">querystringify</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Mon Aug 21 2023 15:40:27 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
